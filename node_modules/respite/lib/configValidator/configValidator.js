var forseti = require("forseti");
var colors = require("colors");

var m = forseti.createMarker(true);
var configSample = require("./configSample.js");
configSample = configSample(m);

module.exports = {
	validate: function(config) {
		if (!config) {
			console.log("[info validate conf] missing config.".red);
		} else {
			var result = forseti.validate(config, configSample);
			if (!result.pass) {
				console.log("[info validate conf] config validation fail.".red);

				console.log(("[info validate conf] " + JSON.stringify(result)).red);
			} else {
				console.log("[info validate conf] config validation pass.".green);
			}
		}
	}
}