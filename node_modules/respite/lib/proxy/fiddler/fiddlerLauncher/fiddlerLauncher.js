var exec = require('child_process').exec;

var platform = process.platform;

/**
 * @author ddchen
 */
var launch = function(conf) {
	var fiddlerLaunchPath = conf.fiddlerLaunchPath;
	console.log("[info fiddlerLaunch] start to launch fiddler".green);
	
	if (platform === "win32") {
		var command = '"' + fiddlerLaunchPath + '"';
	} else {
		var command = 'open "' + fiddlerLaunchPath + '"';
	}

	exec(command, {}, function(err, stdout, stderr) {
		if (err) {
			console.log(('[info fiddlerLaunch] ' + err).red);
		} else {
			console.log(('[info fiddlerLaunch] launch successfully!').green);
		}
	});
}

module.exports = {
	launch: launch
}